# Feature Documentation

This directory contains documentation for features in TrackYourDay, following a structured analysis-architecture-implementation-review workflow.

## Directory Structure

Each feature has its own subdirectory with the following files:

```
docs/features/{feature-name}/
├── spec.md           # Requirements, acceptance criteria, risks
├── architecture.md   # Design, interfaces, diagrams
├── self-review.md    # Self-identified risks and gaps (optional)
└── review.md         # Quality gate review findings (optional)
```

## Document Templates

### spec.md
Generated by **feature-analyst** agent or **lead-hybrid-engineer** agent.

Contains:
- Problem statement
- User stories
- Acceptance criteria (Given-When-Then format)
- Out of scope items
- Edge cases and risks
- Data requirements
- UI/UX requirements
- Dependencies

### architecture.md
Generated by **domain-architect** agent or **lead-hybrid-engineer** agent.

Contains:
- Overview (2-3 sentences)
- Architecture diagram (Mermaid)
- Core interfaces with XML doc comments
- Data flow (MediatR pipeline)
- DI registration
- Technical risks
- Breaking changes
- Performance considerations

### self-review.md
Generated by **lead-hybrid-engineer** agent during self-audit phase.

Contains:
- Implementation risks with mitigation strategies
- Missing test coverage
- Performance bottlenecks
- Security vulnerabilities
- Code quality issues
- Recommendations before approval

### review.md
Generated by **quality-gatekeeper** agent during code review.

Contains:
- Defects categorized by severity (Critical/Major/Minor)
- Missing tests
- Performance concerns
- Security issues
- Final verdict (APPROVED/REJECTED/APPROVED WITH CONDITIONS)
- Conditions for approval

## Example

See `sample-feature/` directory for a complete example of a CSV export feature with all documentation artifacts.

## Workflow

1. **Analysis Phase**
   - Create `{feature-name}/` directory
   - Generate `spec.md` with requirements and acceptance criteria

2. **Architecture Phase**
   - Generate `architecture.md` with design and interfaces
   - Review and identify technical risks

3. **Implementation Phase**
   - Implement code following architecture
   - Write unit tests with 80%+ coverage

4. **Self-Review Phase** (Optional but Recommended)
   - Generate `self-review.md` with self-identified gaps
   - Address critical issues before formal review

5. **Quality Gate Phase**
   - Generate `review.md` with formal code review findings
   - Fix defects and re-review until approved

## Agents Reference

- **@feature-analyst** - Skeptical analyst, challenges assumptions, defines requirements
- **@domain-architect** - Minimalist architect, focuses on SOLID and simplicity
- **@oop-implementer** - C# 13 specialist, implements clean code
- **@blazor-ui-designer** - Pragmatic UI expert, focuses on performance and UX
- **@lead-hybrid-engineer** - All-in-one expert, handles full lifecycle
- **@quality-gatekeeper** - Harsh reviewer, finds reasons to reject

## Tips

- Always start with `spec.md` to clarify requirements before coding
- Use `architecture.md` to identify technical risks early
- Self-review before formal review saves time
- Quality gate review is mandatory for critical features
- Keep documentation up-to-date as implementation evolves
